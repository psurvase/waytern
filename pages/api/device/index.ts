import type {NextApiRequest, NextApiResponse} from 'next'import {getSession} from 'next-auth/react'import prisma from "../../../utility/prisma";// POST /api/deviceexport default async function handle(req: NextApiRequest, res: NextApiResponse) {    const session = await getSession({req});    if (session) {        if (req.method === "POST") {            const {                    name,                    status,                    xCoordinate,                    yCoordinate,                    macId,            } = req.body;            const result = await prisma.device.create({                data: {                        name,                        status,                        xCoordinate,                        yCoordinate,                        macId,                },            });            res.json(result);        }else if (req.method === "GET"){            const devices = await prisma.device.findMany()            res.json(devices);        }else {            res.status(404).send({message: 'Method is not supported'})        }    } else {        res.status(401).send({message: 'Unauthorized: Access is denied due to invalid credentials'})    }}