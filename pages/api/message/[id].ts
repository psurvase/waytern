import type {NextApiRequest, NextApiResponse} from 'next'import {getSession} from 'next-auth/react';import prisma from '../../../utility/prisma'// DELETE /api/message/:idexport default async function handle(req: NextApiRequest, res: NextApiResponse) {    const id = req.query?.id?.toString();    const session = await getSession({req})    if (!session) {        res.status(401).send({message: 'Unauthorized: Access is denied due to invalid credentials'})    }    if (req.method === "DELETE") {        const message = await prisma.message.delete({                where: {id: id},        });        res.json(message);     } else if (req.method === "GET") {        const message = await prisma.message.findUnique({            where :{id : id},        })        res.json(message);    } else if (req.method === "PUT") {        const {                message,        } = req.body;        const message = await prisma.message.update({            where :{id: id},            data :{                    message,            }        })        res.json(message);    }else {        throw new Error(            `The HTTP ${req.method} method is not supported at this route.`        );    }}